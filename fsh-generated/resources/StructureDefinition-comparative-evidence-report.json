{
  "resourceType": "StructureDefinition",
  "id": "comparative-evidence-report",
  "url": "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparative-evidence-report",
  "name": "ComparativeEvidenceReport",
  "status": "draft",
  "description": "Profile of Composition for Evidence Based Medicine IG. The ComparativeEvidenceReport Profile is used for an evidence report including the study group, exposure, comparator, and findings for any number of outcomes comparing the exposure to the comparator in the study group.",
  "fhirVersion": "5.0.0",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "fhirdocumentreference",
      "uri": "http://hl7.org/fhir/documentreference",
      "name": "FHIR DocumentReference"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Composition",
  "baseDefinition": "https://hl7.org/fhir/uv/ebm/StructureDefinition/evidence-report",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition.category",
        "path": "Composition.category",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "text"
            }
          ],
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Composition.category:comparativeEvidenceReport",
        "path": "Composition.category",
        "sliceName": "comparativeEvidenceReport",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.category:comparativeEvidenceReport.coding",
        "path": "Composition.category.coding",
        "patternCoding": {
          "code": "ComparativeEvidenceReport",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "ComparativeEvidenceReport"
        }
      },
      {
        "id": "Composition.category:comparativeEvidenceReport.text",
        "path": "Composition.category.text",
        "min": 1,
        "patternString": "Comparative Evidence Report"
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "min": 5
      },
      {
        "id": "Composition.section:population",
        "path": "Composition.section",
        "sliceName": "population",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.section:population.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "population",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Population"
        }
      },
      {
        "id": "Composition.section:population.entry",
        "path": "Composition.section.entry",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/study-group"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:intervention",
        "path": "Composition.section",
        "sliceName": "intervention",
        "min": 1,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Composition.section:intervention.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "intervention",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Intervention"
        }
      },
      {
        "id": "Composition.section:intervention.section",
        "path": "Composition.section.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "min": 2,
        "max": "2"
      },
      {
        "id": "Composition.section:intervention.section:description",
        "path": "Composition.section.section",
        "sliceName": "description",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:intervention.section:description.code.coding",
        "path": "Composition.section.section.code.coding",
        "patternCoding": {
          "code": "intervention-description",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Intervention Description"
        }
      },
      {
        "id": "Composition.section:intervention.section:description.entry",
        "path": "Composition.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/exposure-definition"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:intervention.section:group",
        "path": "Composition.section.section",
        "sliceName": "group",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:intervention.section:group.code.coding",
        "path": "Composition.section.section.code.coding",
        "patternCoding": {
          "code": "intervention-group",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Intervention Group"
        }
      },
      {
        "id": "Composition.section:intervention.section:group.entry",
        "path": "Composition.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/exposure-group"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:comparator",
        "path": "Composition.section",
        "sliceName": "comparator",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.section:comparator.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "comparator",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Comparator"
        }
      },
      {
        "id": "Composition.section:comparator.section",
        "path": "Composition.section.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "min": 2,
        "max": "2"
      },
      {
        "id": "Composition.section:comparator.section:description",
        "path": "Composition.section.section",
        "sliceName": "description",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:comparator.section:description.code.coding",
        "path": "Composition.section.section.code.coding",
        "patternCoding": {
          "code": "comparator-description",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Comparator Description"
        }
      },
      {
        "id": "Composition.section:comparator.section:description.entry",
        "path": "Composition.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparator-definition",
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/exposure-definition"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:comparator.section:group",
        "path": "Composition.section.section",
        "sliceName": "group",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:comparator.section:group.code.coding",
        "path": "Composition.section.section.code.coding",
        "patternCoding": {
          "code": "comparator-group",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Comparator Group"
        }
      },
      {
        "id": "Composition.section:comparator.section:group.entry",
        "path": "Composition.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparator-group",
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/exposure-group"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:studyDesign",
        "path": "Composition.section",
        "sliceName": "studyDesign",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.section:studyDesign.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "study-design",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Study Design"
        }
      },
      {
        "id": "Composition.section:studyDesign.entry",
        "path": "Composition.section.entry",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/ResearchStudy",
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/classification"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:baseline",
        "path": "Composition.section",
        "sliceName": "baseline",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.section:baseline.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "baseline-measures",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Baseline Measures"
        }
      },
      {
        "id": "Composition.section:baseline.section",
        "path": "Composition.section.section",
        "min": 1,
        "type": [
          {
            "code": "BackboneElement"
          }
        ]
      },
      {
        "id": "Composition.section:baseline.section.focus",
        "path": "Composition.section.section.focus",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/exposure-variable"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:baseline.section.section",
        "path": "Composition.section.section.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "min": 2
      },
      {
        "id": "Composition.section:baseline.section.section:comparatorEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "comparatorEvidence",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:baseline.section.section:comparatorEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-comparator-alone",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with comparator alone"
        }
      },
      {
        "id": "Composition.section:baseline.section.section:comparatorEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/baseline-measure-evidence"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:baseline.section.section:interventionEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "interventionEvidence",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:baseline.section.section:interventionEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-intervention-alone",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with intervention alone"
        }
      },
      {
        "id": "Composition.section:baseline.section.section:interventionEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/baseline-measure-evidence"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:baseline.section.section:totalGroup",
        "path": "Composition.section.section.section",
        "sliceName": "totalGroup",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:baseline.section.section:totalGroup.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-total-group",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with total group"
        }
      },
      {
        "id": "Composition.section:baseline.section.section:totalGroup.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/baseline-measure-evidence"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:baseline.section.section:comparativeEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "comparativeEvidence",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:baseline.section.section:comparativeEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-intervention-vs-comparator",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with intervention vs. comparator"
        }
      },
      {
        "id": "Composition.section:baseline.section.section:comparativeEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparative-baseline-measure-evidence"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:flow",
        "path": "Composition.section",
        "sliceName": "flow",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.section:flow.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "participant-flow",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Participant Flow"
        }
      },
      {
        "id": "Composition.section:flow.section",
        "path": "Composition.section.section",
        "min": 1,
        "type": [
          {
            "code": "BackboneElement"
          }
        ]
      },
      {
        "id": "Composition.section:flow.section.focus",
        "path": "Composition.section.section.focus",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/participant-flow-measure"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:flow.section.section",
        "path": "Composition.section.section.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Composition.section:flow.section.section:comparatorEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "comparatorEvidence",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:flow.section.section:comparatorEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-comparator-alone",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with comparator alone"
        }
      },
      {
        "id": "Composition.section:flow.section.section:comparatorEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/participant-flow"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:flow.section.section:interventionEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "interventionEvidence",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:flow.section.section:interventionEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-intervention-alone",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with intervention alone"
        }
      },
      {
        "id": "Composition.section:flow.section.section:interventionEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/participant-flow"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:flow.section.section:totalGroup",
        "path": "Composition.section.section.section",
        "sliceName": "totalGroup",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:flow.section.section:totalGroup.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-total-group",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with total group"
        }
      },
      {
        "id": "Composition.section:flow.section.section:totalGroup.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/participant-flow"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:flow.section.section:comparativeEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "comparativeEvidence",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:flow.section.section:comparativeEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-intervention-vs-comparator",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with intervention vs. comparator"
        }
      },
      {
        "id": "Composition.section:flow.section.section:comparativeEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparative-participant-flow"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:outcomes",
        "path": "Composition.section",
        "sliceName": "outcomes",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Composition.section:outcomes.code.coding",
        "path": "Composition.section.code.coding",
        "patternCoding": {
          "code": "outcome-measures",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Outcome Measures"
        }
      },
      {
        "id": "Composition.section:outcomes.section",
        "path": "Composition.section.section",
        "min": 1,
        "type": [
          {
            "code": "BackboneElement"
          }
        ]
      },
      {
        "id": "Composition.section:outcomes.section.focus",
        "path": "Composition.section.section.focus",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/outcome-variable"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:outcomes.section.section",
        "path": "Composition.section.section.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Composition.section:outcomes.section.section:comparatorEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "comparatorEvidence",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:outcomes.section.section:comparatorEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-comparator-alone",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with comparator alone"
        }
      },
      {
        "id": "Composition.section:outcomes.section.section:comparatorEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparator-only-evidence"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:outcomes.section.section:interventionEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "interventionEvidence",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:outcomes.section.section:interventionEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-intervention-alone",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with intervention alone"
        }
      },
      {
        "id": "Composition.section:outcomes.section.section:interventionEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/intervention-only-evidence"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:outcomes.section.section:comparativeEvidence",
        "path": "Composition.section.section.section",
        "sliceName": "comparativeEvidence",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.section:outcomes.section.section:comparativeEvidence.code.coding",
        "path": "Composition.section.section.section.code.coding",
        "patternCoding": {
          "code": "evidence-with-intervention-vs-comparator",
          "system": "https://fevir.net/resources/CodeSystem/179423",
          "display": "Evidence with intervention vs. comparator"
        }
      },
      {
        "id": "Composition.section:outcomes.section.section:comparativeEvidence.entry",
        "path": "Composition.section.section.section.entry",
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://hl7.org/fhir/uv/ebm/StructureDefinition/comparative-evidence"
            ]
          }
        ]
      }
    ]
  }
}
